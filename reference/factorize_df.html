<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Convert all character vectors containing a set of values in a data.frame to factors. — factorize_df • tntpr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Convert all character vectors containing a set of values in a data.frame to factors. — factorize_df"><meta name="description" content="This function examines each column in a data.frame; when it finds a column composed solely of the values provided to the lvls argument it updates them to be factor variables, with levels in the order provided.
This is an alternative to calling dplyr::mutate_at with factor() and identifying the specific variables you want to transform, if you have several repeated sets of responses."><meta property="og:description" content="This function examines each column in a data.frame; when it finds a column composed solely of the values provided to the lvls argument it updates them to be factor variables, with levels in the order provided.
This is an alternative to calling dplyr::mutate_at with factor() and identifying the specific variables you want to transform, if you have several repeated sets of responses."><meta property="og:image" content="https://tntp.github.io/tntpr/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">tntpr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/visualization-cookbook.html">TNTP Visualization Cookbook</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/tntp/tntpr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Convert all character vectors containing a set of values in a data.frame to factors.</h1>
      <small class="dont-index">Source: <a href="https://github.com/tntp/tntpr/blob/master/R/factorize.R" class="external-link"><code>R/factorize.R</code></a></small>
      <div class="d-none name"><code>factorize_df.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function examines each column in a data.frame; when it finds a column composed solely of the values provided to the <code>lvls</code> argument it updates them to be factor variables, with levels in the order provided.</p>
<p>This is an alternative to calling <code><a href="https://dplyr.tidyverse.org/reference/mutate_all.html" class="external-link">dplyr::mutate_at</a></code> with <code><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor()</a></code> and identifying the specific variables you want to transform, if you have several repeated sets of responses.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">factorize_df</span><span class="op">(</span><span class="va">dat</span>, <span class="va">lvls</span>, ignore.case <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-dat">dat<a class="anchor" aria-label="anchor" href="#arg-dat"></a></dt>
<dd><p>data.frame with some factor variables stored as characters.</p></dd>


<dt id="arg-lvls">lvls<a class="anchor" aria-label="anchor" href="#arg-lvls"></a></dt>
<dd><p>The factor levels in your variable(s), in order.  If you have a question whose possible responses are a subset of another question's, don't use this function; manipulate the specific columns with <code><a href="https://dplyr.tidyverse.org/reference/mutate_all.html" class="external-link">dplyr::mutate_at</a></code>.</p></dd>


<dt id="arg-ignore-case">ignore.case<a class="anchor" aria-label="anchor" href="#arg-ignore-case"></a></dt>
<dd><p>Logical. If TRUE, will match without checking case, using the capitalization from the <code>lvls</code> parameter for the final output. If not provided, the function will provide a warning if it detects columns that would match without checking case but will NOT coerce them.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>a data.frame the same size as <code>dat</code>, with factorization completed in place.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">teacher_survey</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">factorize_df</span><span class="op">(</span>lvls <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Strongly Disagree"</span>, <span class="st">"Disagree"</span>, <span class="st">"Somewhat Disagree"</span>,</span></span>
<span class="r-in"><span>                        <span class="st">"Somewhat Agree"</span>, <span class="st">"Agree"</span>, <span class="st">"Strongly Agree"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Changed the following columns to factors: `It's fair to expect students in</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   this class to master these standards by the end of the year.`, `One year is</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   enough time for students in this class to master these standards.`, `All</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   students in my class can master the grade-level standards by the end of the</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   year.`, and `The standards are appropriate for the students in this class.`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 20 × 5</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    timing It's fair to expect st…¹ One year is enough t…² All students in my c…³</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>                    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>                  <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> Pre    Disagree                 Disagree               Agree                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> Pre    Disagree                 Somewhat Agree         Agree                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> Pre    Somewhat Disagree        Somewhat Disagree      Strongly Agree        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> Pre    Disagree                 Strongly Disagree      Strongly Agree        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> Pre    Agree                    Somewhat Disagree      Strongly Disagree     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> Pre    Strongly Disagree        Somewhat Agree         Somewhat Disagree     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> Pre    Agree                    Strongly Agree         Strongly Disagree     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> Pre    Agree                    Disagree               Somewhat Agree        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> Pre    Strongly Disagree        Disagree               Somewhat Agree        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> Pre    Somewhat Agree           Somewhat Disagree      Agree                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">11</span> Post   Strongly Disagree        Somewhat Agree         Somewhat Disagree     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">12</span> Post   Somewhat Agree           Disagree               Somewhat Disagree     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">13</span> Post   Somewhat Disagree        Somewhat Agree         Strongly Disagree     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">14</span> Post   Strongly Agree           Strongly Agree         Disagree              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">15</span> Post   Strongly Agree           Somewhat Disagree      Strongly Disagree     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">16</span> Post   Disagree                 Disagree               Agree                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">17</span> Post   Strongly Agree           Agree                  Agree                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">18</span> Post   Strongly Agree           Strongly Agree         Disagree              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">19</span> Post   Somewhat Disagree        Somewhat Agree         Agree                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">20</span> Post   Somewhat Agree           Strongly Agree         Strongly Disagree     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ abbreviated names:</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   ¹​`It's fair to expect students in this class to master these standards by the end of the year.`,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   ²​`One year is enough time for students in this class to master these standards.`,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   ³​`All students in my class can master the grade-level standards by the end of the year.`</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 1 more variable:</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   `The standards are appropriate for the students in this class.` &lt;fct&gt;</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># prints warning due to case mismatches:</span></span></span>
<span class="r-in"><span><span class="va">teacher_survey</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">factorize_df</span><span class="op">(</span>lvls <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Strongly disagree"</span>, <span class="st">"Disagree"</span>, <span class="st">"Somewhat disagree"</span>,</span></span>
<span class="r-in"><span>                        <span class="st">"Somewhat agree"</span>, <span class="st">"Agree"</span>, <span class="st">"Strongly agree"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span><span style="color: #BBBB00;">!</span> Columns `It's fair to expect students in this class to master these standards</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>   by the end of the year.`, `One year is enough time for students in this class</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>   to master these standards.`, `All students in my class can master the</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>   grade-level standards by the end of the year.`, and `The standards are</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>   appropriate for the students in this class.` were NOT matched, but would</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>   match if `ignore.case` was set to <span style="color: #0000BB;">"TRUE"</span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span><span style="color: #BBBB00;">!</span> No columns matched. Check spelling &amp; capitalization of your levels.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 20 × 5</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    timing It's fair to expect st…¹ One year is enough t…² All students in my c…³</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> Pre    Disagree                 Disagree               Agree                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> Pre    Disagree                 Somewhat Agree         Agree                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> Pre    Somewhat Disagree        Somewhat Disagree      Strongly Agree        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> Pre    Disagree                 Strongly Disagree      Strongly Agree        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> Pre    Agree                    Somewhat Disagree      Strongly Disagree     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> Pre    Strongly Disagree        Somewhat Agree         Somewhat Disagree     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> Pre    Agree                    Strongly Agree         Strongly Disagree     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> Pre    Agree                    Disagree               Somewhat Agree        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> Pre    Strongly Disagree        Disagree               Somewhat Agree        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> Pre    Somewhat Agree           Somewhat Disagree      Agree                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">11</span> Post   Strongly Disagree        Somewhat Agree         Somewhat Disagree     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">12</span> Post   Somewhat Agree           Disagree               Somewhat Disagree     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">13</span> Post   Somewhat Disagree        Somewhat Agree         Strongly Disagree     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">14</span> Post   Strongly Agree           Strongly Agree         Disagree              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">15</span> Post   Strongly Agree           Somewhat Disagree      Strongly Disagree     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">16</span> Post   Disagree                 Disagree               Agree                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">17</span> Post   Strongly Agree           Agree                  Agree                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">18</span> Post   Strongly Agree           Strongly Agree         Disagree              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">19</span> Post   Somewhat Disagree        Somewhat Agree         Agree                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">20</span> Post   Somewhat Agree           Strongly Agree         Strongly Disagree     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ abbreviated names:</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   ¹​`It's fair to expect students in this class to master these standards by the end of the year.`,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   ²​`One year is enough time for students in this class to master these standards.`,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   ³​`All students in my class can master the grade-level standards by the end of the year.`</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 1 more variable:</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   `The standards are appropriate for the students in this class.` &lt;chr&gt;</span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Dustin Pashouwer, Sam Firke, Shane Orr, Sam Talcott.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

